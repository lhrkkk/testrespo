<html><head><title>Respo</title><link href="http://logo.respo.site/respo.png" rel="icon" type="image/png"></link><link></link><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><meta content="#{:shell}" id="ssr-stages"></meta><div><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41753901-17', 'auto');
  ga('send', 'pageview');

</script></div><link href="/main.cbd1d825.css" rel="stylesheet" type="text/css"></link><script id="config" type="text/edn">{:build? true}</script></head><body><div id="app"><div style="color:hsl(0,0%,20%);font-family:Hind,Verdana,'Hiragino Sans GB','WenQuanYi Micro Hei','Microsoft Yahei',sans-serif;font-size:14px;line-height:2;"><div style="align-items:center;border-bottom:1px solid hsl(0,0%,94%);display:flex;flex-direction:row;font-family:Josefin Sans;justify-content:space-between;line-height:40px;padding:0 32px;"><div><div style="display:inline-block;margin-right:64;"><a href="/" style="cursor:pointer;font-size:16;text-decoration:none;">Respo</a></div><div style="display:inline-block;margin-right:64;"><a href="/guide/why-respo.html" style="cursor:pointer;font-size:16;text-decoration:none;">Guide</a></div><div style="display:inline-block;margin-right:64;"><a href="/docs/overview.html" style="cursor:pointer;font-size:16;text-decoration:none;">API Docs</a></div><div style="display:inline-block;margin-right:64;"><a href="/discuss.html" style="cursor:pointer;font-size:16;text-decoration:none;">Discuss</a></div></div><div><a href="https://github.com/Respo" target="_blanck" style="text-decoration:none;">GitHub</a></div></div><div style="align-items:stretch;display:flex;flex-direction:row;"><div style="padding-top:48;"><div><a href="/docs/overview.html" style="cursor:pointer;margin-left:16;text-decoration:none;">overview</a></div><div style="font-family:Monaco, Menlo, monospace;font-size:12;line-height:1.6;min-width:240;padding:4px 16px;"><div style="color:hsl(0,0%,64%);"><span>respo.alias</span></div><div><a href="/docs/div.html" style="cursor:pointer;margin-left:16;text-decoration:none;">div</a></div><div><a href="/docs/create-comp.html" style="color:hsl(0,0%,64%);cursor:pointer;margin-left:16;text-decoration:none;">create-comp</a></div><div><a href="/docs/create-element.html" style="cursor:pointer;margin-left:16;text-decoration:none;">create-element</a></div></div><div style="font-family:Monaco, Menlo, monospace;font-size:12;line-height:1.6;min-width:240;padding:4px 16px;"><div style="color:hsl(0,0%,64%);"><span>respo.comp.text</span></div><div><a href="/docs/comp-text.html" style="cursor:pointer;margin-left:16;text-decoration:none;">comp-text</a></div><div><a href="/docs/comp-code.html" style="cursor:pointer;margin-left:16;text-decoration:none;">comp-code</a></div></div><div style="font-family:Monaco, Menlo, monospace;font-size:12;line-height:1.6;min-width:240;padding:4px 16px;"><div style="color:hsl(0,0%,64%);"><span>respo.comp.space</span></div><div><a href="/docs/comp-space.html" style="cursor:pointer;margin-left:16;text-decoration:none;">comp-space</a></div></div><div style="font-family:Monaco, Menlo, monospace;font-size:12;line-height:1.6;min-width:240;padding:4px 16px;"><div style="color:hsl(0,0%,64%);"><span>respo.comp.debug</span></div><div><a href="/docs/comp-debug.html" style="cursor:pointer;margin-left:16;text-decoration:none;">comp-debug</a></div></div><div style="font-family:Monaco, Menlo, monospace;font-size:12;line-height:1.6;min-width:240;padding:4px 16px;"><div style="color:hsl(0,0%,64%);"><span>respo.core</span></div><div><a href="/docs/render!.html" style="cursor:pointer;margin-left:16;text-decoration:none;">render!</a></div><div><a href="/docs/clear-cache!.html" style="cursor:pointer;margin-left:16;text-decoration:none;">clear-cache!</a></div><div><a href="/docs/falsify-stage!.html" style="cursor:pointer;margin-left:16;text-decoration:none;">falsify-stage!</a></div></div><div style="font-family:Monaco, Menlo, monospace;font-size:12;line-height:1.6;min-width:240;padding:4px 16px;"><div style="color:hsl(0,0%,64%);"><span>respo.cursor</span></div><div><a href="/docs/with-cursor.html" style="cursor:pointer;margin-left:16;text-decoration:none;">with-cursor</a></div><div><a href="/docs/mutate.html" style="cursor:pointer;margin-left:16;text-decoration:none;">mutate</a></div></div><div style="font-family:Monaco, Menlo, monospace;font-size:12;line-height:1.6;min-width:240;padding:4px 16px;"><div style="color:hsl(0,0%,64%);"><span>respo.render.html</span></div><div><a href="/docs/make-string.html" style="cursor:pointer;margin-left:16;text-decoration:none;">make-string</a></div><div><a href="/docs/make-html.html" style="cursor:pointer;margin-left:16;text-decoration:none;">make-html</a></div></div><div style="font-family:Monaco, Menlo, monospace;font-size:12;line-height:1.6;min-width:240;padding:4px 16px;"><div style="color:hsl(0,0%,64%);"><span>respo.render.expander</span></div><div><a href="/docs/render-app.html" style="cursor:pointer;margin-left:16;text-decoration:none;">render-app</a></div></div><div style="font-family:Monaco, Menlo, monospace;font-size:12;line-height:1.6;min-width:240;padding:4px 16px;"><div style="color:hsl(0,0%,64%);"><span>respo.util.format</span></div><div><a href="/docs/purify-element.html" style="cursor:pointer;margin-left:16;text-decoration:none;">purify-element</a></div><div><a href="/docs/mute-element.html" style="cursor:pointer;margin-left:16;text-decoration:none;">mute-element</a></div></div><div style="font-family:Monaco, Menlo, monospace;font-size:12;line-height:1.6;min-width:240;padding:4px 16px;"><div style="color:hsl(0,0%,64%);"><span>respo.render.differ</span></div><div><a href="/docs/find-element-diffs.html" style="cursor:pointer;margin-left:16;text-decoration:none;">find-element-diffs</a></div></div><div style="font-family:Monaco, Menlo, monospace;font-size:12;line-height:1.6;min-width:240;padding:4px 16px;"><div style="color:hsl(0,0%,64%);"><span>respo.render.patcher</span></div><div><a href="/docs/apply-dom-changes.html" style="cursor:pointer;margin-left:16;text-decoration:none;">apply-dom-changes</a></div></div><div style="font-family:Monaco, Menlo, monospace;font-size:12;line-height:1.6;min-width:240;padding:4px 16px;"><div style="color:hsl(0,0%,64%);"><span>respo.controller.client</span></div><div><a href="/docs/activate-instance.html" style="cursor:pointer;margin-left:16;text-decoration:none;">activate-instance</a></div><div><a href="/docs/patch-instance.html" style="cursor:pointer;margin-left:16;text-decoration:none;">patch-instance</a></div><div><a href="/docs/release-instance.html" style="cursor:pointer;margin-left:16;text-decoration:none;">release-instance</a></div></div><div style="font-family:Monaco, Menlo, monospace;font-size:12;line-height:1.6;min-width:240;padding:4px 16px;"><div style="color:hsl(0,0%,64%);"><span>respo.controller.deliver</span></div><div><a href="/docs/build-deliver-event.html" style="cursor:pointer;margin-left:16;text-decoration:none;">build-deliver-event</a></div><div><a href="/docs/mutate-factory.html" style="cursor:pointer;margin-left:16;text-decoration:none;">mutate-factory</a></div></div></div><div class="md-article" style="flex:1;padding:8;"><div class="md-paragraph"><h2><span></span><code>create-comp</code></h2></div><div class="md-paragraph"><div><span>This is the function to create components(and "comp" is short for "component" here).</span></div><div><span>There are two ways to call that function depending on the existence of component state:</span></div></div><pre class="md-code-block"><code>(<span class="hljs-name">create-comp</span> comp-name render)
(<span class="hljs-name">create-comp</span> comp-name init-state update-date render)</code></pre><div class="md-paragraph"><div><span>A simple demo can be:</span></div></div><pre class="md-code-block"><code>(<span class="hljs-name"><span class="hljs-builtin-name">defn</span></span> init-state [prop-a prop-b]
  <span class="hljs-number">0</span>)

(<span class="hljs-name"><span class="hljs-builtin-name">defn</span></span> update-state [old-state arg-1 arg-2]
  (<span class="hljs-name"><span class="hljs-builtin-name">+</span></span> old-state arg-1 arg-2))

(<span class="hljs-name"><span class="hljs-builtin-name">defn</span></span> render [prop-a prop-b]
  <span class="hljs-comment">; `state` is created by `init-state`</span>
  <span class="hljs-comment">; `mutate!` can be called like `(mutate! 1 2)`</span>
  (<span class="hljs-name"><span class="hljs-builtin-name">fn</span></span> [state mutate!]
    (<span class="hljs-name">div</span> {})))

(<span class="hljs-name">create-comp</span> <span class="hljs-symbol">:demo</span> init-state update-state render)</code></pre><div class="md-paragraph"><div><span>Let's talk about the params.</span></div></div><div class="md-paragraph"><li><span></span><code>comp-name</code></li></div><div class="md-paragraph"><div><span>It's a component name in Keyword. It's mostly used during debugging.</span></div></div><div class="md-paragraph"><li><span></span><code>init-state</code></li></div><div class="md-paragraph"><div><span>Pure function to create the initial state for a component.</span></div></div><div class="md-paragraph"><li><span></span><code>update-state</code></li></div><div class="md-paragraph"><div><span>Pure function to update state. It's called with a helper function: </span><code>mutate!</code><span>.</span></div><div><span>It can be called with arbitry numbers of arguments.</span></div></div><div class="md-paragraph"><li><span></span><code>render</code></li></div><div class="md-paragraph"><div><span>You can see from the demo, it's a higher order function that returns a function that returns a piece of virtual DOM. You must keep this function as pure as possible to stay away from side effects.</span></div></div></div></div></div></div><script src="/vendor.67acf57a.js"></script><script src="/main.cbd1d825.js"></script></body></html>